<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>University Athlete Discount Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="dashboard.css">

</head>

<body>
    <!--retrieve from the database the university name and display it-->
  <h1></h1>
  <p class="subtitle">University Athlete Discount System</p>

  <!-- Status Cards -->
  <div class="status-cards">
    <div class="status-card">
      <h2>Total Offers</h2>
      <p id="offerCount">0</p>
    </div>
    <div class="status-card">
      <h2>Total Students</h2>
      <p id="studentCount">0</p>
    </div>
    <div class="status-card">
      <h2>Active Discounts</h2>
      <p id="discountCount">0</p>
    </div>
  </div>

  <!-- Tabs -->
  <div class="tabs">
    <div class="tab active" data-tab="offers">Offers</div>
    <div class="tab" data-tab="students">Available Students</div>
    <div class="tab" data-tab="create">Create New Offer</div>
  </div>

  <!-- Offers Tab -->
  <div id="offers" class="tab-content active">
    <table id="offersTable">
      <thead>
        <tr>
          <th>Offer ID</th>
          <th>Title</th>
          <th>Discount</th>
          <th>Valid Until</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <!-- Students Tab -->
  <div id="students" class="tab-content">
    <input type="text" id="studentSearch" placeholder="Search by name or sport...">
    <table id="studentsTable">
      <thead>
        <tr>
          <th>Student Name</th>
          <th>Sport</th>
          <th>Level</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <!-- Create Offer Tab -->
  <div id="create" class="tab-content">
    <form id="offerForm">
      <h3>Create New Offer</h3>
      <input type="text" id="offerTitle" placeholder="Offer Title" required>
      <input type="text" id="offerDiscount" placeholder="Discount (e.g. 20%)" required>
      <input type="date" id="offerValid" required>
      <button type="submit">Add Offer</button>
    </form>
  </div>

  <script>
    // ====== Simulated Database ======
    const offers = [
      { id: 1, title: "Gym Membership", discount: "25%", valid: "2025-12-30" },
      { id: 2, title: "Sports Gear", discount: "15%", valid: "2025-09-15" },
    ];

    const students = [
      { name: "Ava Johnson", sport: "Basketball", level: "Advanced" },
      { name: "Liam Smith", sport: "Football", level: "Intermediate" },
      { name: "Sophia Davis", sport: "Tennis", level: "Beginner" },
      { name: "Ethan Brown", sport: "Swimming", level: "Advanced" },
    ];

    // ====== Populate Dashboard ======
    function loadData() {
      const offerTable = document.querySelector("#offersTable tbody");
      offerTable.innerHTML = "";
      offers.forEach(o => {
        const row = `<tr>
          <td>${o.id}</td>
          <td>${o.title}</td>
          <td>${o.discount}</td>
          <td>${o.valid}</td>
        </tr>`;
        offerTable.innerHTML += row;
      });

      const studentTable = document.querySelector("#studentsTable tbody");
      studentTable.innerHTML = "";
      students.forEach(s => {
        const row = `<tr>
          <td>${s.name}</td>
          <td>${s.sport}</td>
          <td>${s.level}</td>
        </tr>`;
        studentTable.innerHTML += row;
      });

      // Update counts
      document.getElementById("offerCount").textContent = offers.length;
      document.getElementById("studentCount").textContent = students.length;
      document.getElementById("discountCount").textContent = offers.length; // same for now
    }

    // ====== Tab Switching ======
    document.querySelectorAll(".tab").forEach(tab => {
      tab.addEventListener("click", () => {
        document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
        document.querySelectorAll(".tab-content").forEach(c => c.classList.remove("active"));
        tab.classList.add("active");
        document.getElementById(tab.dataset.tab).classList.add("active");
      });
    });

    // ====== Offer Form ======
    document.getElementById("offerForm").addEventListener("submit", e => {
      e.preventDefault();
      const title = document.getElementById("offerTitle").value;
      const discount = document.getElementById("offerDiscount").value;
      const valid = document.getElementById("offerValid").value;
      const newOffer = {
        id: offers.length + 1,
        title,
        discount,
        valid
      };
      offers.push(newOffer);
      loadData();
      e.target.reset();
      alert("âœ… Offer added successfully!");
    });

    // ====== Student Search Filter ======
    document.getElementById("studentSearch").addEventListener("input", e => {
      const query = e.target.value.toLowerCase();
      const rows = document.querySelectorAll("#studentsTable tbody tr");
      rows.forEach(row => {
        const text = row.innerText.toLowerCase();
        row.style.display = text.includes(query) ? "" : "none";
      });
    });

    // Initial load
    loadData();
  </script>
</body>
</html>
